/*! PUDIM - v0.3.0 - 2013-05-09 */
var PUDIM=window.PUDIM=function(){function e(){jQuery(".track").remove()}function n(e,n){l.trigger(e,n)}function t(e,n){l.on(e,n)}function r(e){var n={};return"?"===e.charAt(0)&&(e=e.slice(1)),e.split("&").forEach(function(e){var t=e.split("=");n[t[0]]=t[1]}),n}function i(e){var n=e.request.url;u.universal_analytics(n)&&(o.universal_analytics.handler(n),a&&a())}function a(){s.stop(!0,!0).animate({scrollTop:c.height()},"slow")}var l,s,c,o,u,g,m;return l=jQuery({}),s=jQuery(document.body),c=jQuery("#panel"),o={universal_analytics:{template:function(){var e;return jQuery.ajax({url:"template.html",async:!1,success:function(n){e=jQuery(n)}}),e}(),parseByType:function(e,n){var t=[];return g[e]&&g[e].forEach(function(e){void 0===n[e]&&t.push(e)}),t},appendNewHit:function(e,n,t,r,i){var a=this.template.clone();a.attr("data-type",e.t).attr("data-qs",n),a.find(".label").addClass(t),a.find(".content").text(r),a.find("table.queryString").html(function(){var n,t;for(t in e)"_"!==t.charAt(0)&&e.hasOwnProperty(t)&&(n+="<tr>",n+='<td class="key" title="'+t+'">'+(i[t]&&i[t].name||t)+"</td>",n+='<td class="value" title="'+e[t]+'">'+decodeURIComponent(e[t])+"</td>",n+="</tr>");return n}()),c.append(a)},handler:function(e){var t,i=e.slice(e.indexOf("?")+1),a=r(i),l="",s="ok";switch(a.t){case"pageview":l=a.dp?(a.dh||"")+a.dp:a.dl;break;case"event":l=a.ec+"%20%3E%20"+a.ea+"%20%3E%20"+(a.el||"<empty>")+"%20%3E%20"+(a.ev||0);break;case"transaction":l="Trans: "+a.ti+"%20%3E%20"+a.tr;break;case"item":l=a.iv+"%20%3E%20"+a["in"];break;case"social":l=a.sn+"%20%3E%20"+a.sa;break;case"timing":l=a.utc+"%20%3E%20"+a.utv+"%20%3E%20"+a.utl+"%20%3E%20"+a.utt}t=this.parseByType("all",a),t.concat(this.parseByType(a.t,a)),t.length&&(s="error"),this.appendNewHit(a,i,s,decodeURIComponent(l),m.universal_analytics),n("newhit",e)}}},u={universal_analytics:function(e){return e.indexOf("google-analytics.com/collect")>=0},integer:function(e){return e===parseInt(e,10)+""},string:function(e,n){return"string"==typeof e&&(n||2048)>=e.length},"boolean":function(e){return"0"===e||"1"===e},currency:function(e){return e===parseFloat(e,10)+""},session:function(e){return"start"===e||"end"===e},trackingID:function(e){return/^UA\-\d+\-\d{1,2}$/.test(e)},hit:function(e){return"pageview"===e||"appview"===e||"event"===e||"transaction"===e||"item"===e||"social"===e||"exception"===e||"timing"===e}},g={all:["t"],social:["sn","sa","st"],transaction:["ti"],item:["ti"]},m={universal_analytics:{t:{name:"hit type",required:!0,rule:u.hit},ni:{name:"non interaction",rule:u.boolean},dl:{name:"location"},dh:{name:"hostname",length:100,rule:u.string},dp:{name:"page",length:2048,rule:u.string},dt:{name:"title",length:1500,rule:u.string},cd:{name:"description",length:2048,rule:u.string},cg0:{name:"content group 0",length:100,rule:u.string},cg1:{name:"content group 1",length:100,rule:u.string},cg2:{name:"content group 2",length:100,rule:u.string},cg3:{name:"content group 3",length:100,rule:u.string},cg4:{name:"content group 4",length:100,rule:u.string},cg5:{name:"content group 5",length:100,rule:u.string},cg6:{name:"content group 6",length:100,rule:u.string},cg7:{name:"content group 7",length:100,rule:u.string},cg8:{name:"content group 8",length:100,rule:u.string},cg9:{name:"content group 9",length:100,rule:u.string},ec:{name:"event category",length:150,rule:u.string},ea:{name:"event action",length:500,rule:u.string},el:{name:"event label",length:500,rule:u.string},ev:{name:"event value",rule:u.integer},ti:{name:"transaction id",length:500,rule:u.string},ta:{name:"affiliation",length:500,rule:u.string},tr:{name:"revenue",rule:u.currency},ts:{name:"shipping",rule:u.currency},tt:{name:"tax",rule:u.currency},ip:{name:"item price",rule:u.currency},iq:{name:"item quantity",rule:u.integer},ic:{name:"item code",length:500,rule:u.string},"in":{name:"item name",length:500,rule:u.string},iv:{name:"item category",length:500,rule:u.string},sa:{name:"social action",length:50,rule:u.string},sn:{name:"social network",length:50,rule:u.string},st:{name:"social target",length:2048,rule:u.string},utc:{name:"timing category",length:150,rule:u.string},utv:{name:"timing variable",length:500,rule:u.string},utt:{name:"timing time",rule:u.integer},utl:{name:"timing label",length:500,rule:u.string},plt:{name:"page load time",rule:u.integer},dns:{name:"dns time",rule:u.integer},pdt:{name:"page download time",rule:u.integer},rrt:{name:"redirect response time",rule:u.integer},tcp:{name:"tcp connect time",rule:u.integer},srt:{name:"server response time",rule:u.integer},cd0:{name:"dimension 0",length:150,rule:u.string},cd1:{name:"dimension 1",length:150,rule:u.string},cd2:{name:"dimension 2",length:150,rule:u.string},cd3:{name:"dimension 3",length:150,rule:u.string},cd4:{name:"dimension 4",length:150,rule:u.string},cd5:{name:"dimension 5",length:150,rule:u.string},cd6:{name:"dimension 6",length:150,rule:u.string},cd7:{name:"dimension 7",length:150,rule:u.string},cd8:{name:"dimension 8",length:150,rule:u.string},cd9:{name:"dimension 9",length:150,rule:u.string},cm0:{name:"metric 0",rule:u.integer},cm1:{name:"metric 1",rule:u.integer},cm2:{name:"metric 2",rule:u.integer},cm3:{name:"metric 3",rule:u.integer},cm4:{name:"metric 4",rule:u.integer},cm5:{name:"metric 5",rule:u.integer},cm6:{name:"metric 6",rule:u.integer},cm7:{name:"metric 7",rule:u.integer},cm8:{name:"metric 8",rule:u.integer},cm9:{name:"metric 9",rule:u.integer},dr:{name:"referrer",length:2048,rule:u.string},cn:{name:"campaign name",length:100,rule:u.string},cs:{name:"campaign source",length:100,rule:u.string},cm:{name:"campaign medium",length:50,rule:u.string},ck:{name:"campaign keyword",length:500,rule:u.string},cc:{name:"campaign content",length:500,rule:u.string},ci:{name:"campaign id",length:100,rule:u.string},gclid:{name:"adwords id"},dclid:{name:"display ads id"},cid:{name:"client id"},a:{name:"session"},sc:{name:"session control",rule:u.session},v:{name:"protocol version"},tid:{name:"web property id",rule:u.trackingID},aip:{name:"anonymize ip",rule:u.boolean},qt:{name:"queue time",rule:u.integer},z:{name:"cache buster"},sr:{name:"resolution",length:20,rule:u.string},vp:{name:"viewport size",length:20,rule:u.string},sd:{name:"screen colors",length:20,rule:u.string},de:{name:"encoding",length:20,rule:u.string},ul:{name:"language",length:20,rule:u.string},je:{name:"java enabled",rule:u.boolean},fl:{name:"flash version",length:20,rule:u.string},an:{name:"app name",length:100,rule:u.string},av:{name:"app version",length:100,rule:u.string},exd:{name:"exception description",length:150,rule:u.string},exf:{name:"exception fatal",rule:u.boolean}}},{init:i,body:s,panel:c,modules:o,clear:e,info:chrome.runtime.getManifest(),util:{queryToObject:r,pub:n,sub:t}}}();chrome.devtools.network.onRequestFinished.addListener(PUDIM.init);var panel=jQuery("#panel");panel.on("click",".delete",function(e){e.stopPropagation(),e.preventDefault();var n=jQuery(this).closest(".track");n.slideUp("300",function(){n.remove()})}),panel.on("click",".detail,.content",function(e){e.stopPropagation(),e.preventDefault();var n=jQuery(this).closest(".track");n.find(".qsWrapper").slideToggle("slow")}),jQuery(".filter").on("click","a",function(e){e.stopPropagation(),e.preventDefault(),jQuery(this).hasClass("clean")?(jQuery(".checked").removeClass("checked"),panel.removeClass()):(jQuery(this).closest("li").toggleClass("checked"),panel.toggleClass(this.className).toggleClass("filtrado",jQuery(".checked").length>0))}),function(e,n,t,r,i,a,l){e.GoogleAnalyticsObject=i,e[i]=e[i]||function(){(e[i].q=e[i].q||[]).push(arguments)},e[i].l=1*new Date,a=n.createElement(t),l=n.getElementsByTagName(t)[0],a.async=1,a.src=r,l.parentNode.insertBefore(a,l)}(window,document,"script","js/analytics.js","ga"),ga("create","UA-3635138-29","dp6.com.br"),ga("set",{page:"/"+PUDIM.info.name+"/"+PUDIM.info.version,title:PUDIM.info.name+"@"+PUDIM.info.version}),ga("send","pageview"),jQuery("#logo").mousedown(function(){ga("send","event","Cliques no Logo","click")}),jQuery(".filter").find("a").mousedown(function(){ga("send","event","utilização de filtros",this.className)}),jQuery("#panel").on("click",".detail,.content",function(){var e=jQuery(this).closest(".track");ga("send","event","visualização de detalhes",e.data().type)}),jQuery("#panel").on("click",".delete",function(){var e=jQuery(this).closest(".track");ga("send","event","exclusão de disparo",e.data().type)});